{{- /* Google Site Verification */ -}}
<meta name="google-site-verification" content="GukIw_0RElehN2pHWVjz1JVVvnmdUbPmcb6zwIjBhD8" />

{{- /* Force HTTPS Meta Tags */ -}}
<meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">

{{- /* Favicon Meta Tags with forced HTTPS */ -}}
<link rel="icon" type="image/x-icon" href="https://royfactory.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://royfactory.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://royfactory.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://royfactory.github.io/apple-touch-icon.png">

{{- /* HTTPS Force Script */ -}}
<script>
if (location.protocol !== 'https:' && location.hostname !== 'localhost') {
    location.replace('https:' + window.location.href.substring(window.location.protocol.length));
}

// Force HTTPS for all resource links after page load
document.addEventListener('DOMContentLoaded', function() {
    // Force HTTPS for stylesheets
    var links = document.querySelectorAll('link[rel*="stylesheet"]');
    links.forEach(function(link) {
        if (link.href && link.href.startsWith('http://')) {
            link.href = link.href.replace('http://', 'https://');
        }
    });
    
    // Force HTTPS for all other links
    var allLinks = document.querySelectorAll('a[href^="http://royfactory.github.io"]');
    allLinks.forEach(function(link) {
        link.href = link.href.replace('http://', 'https://');
    });
});
</script>

{{- /* TOC Sticky JavaScript */ -}}
{{- $tocJS := resources.Get "js/toc-sticky.js" | resources.Minify | resources.Fingerprint -}}
<script src="{{ $tocJS.RelPermalink }}" defer></script>

{{- /* AdSense Script */ -}}
{{- if .Site.Params.googleAdsense -}}
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-{{ .Site.Params.googleAdsense }}"
     crossorigin="anonymous"></script>
<script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-{{ .Site.Params.googleAdsense }}",
    enable_page_level_ads: true
  });
</script>
{{- end -}}
